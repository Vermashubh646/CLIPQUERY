{% extends 'layouts/blank.html' %}

{% block content %}
<body class="bg-gray-50">

  <div class="max-w-5xl mx-auto flex flex-col items-center pt-16 md:pt-20 px-4 pb-12">
    
    <img 
      class="w-32 h-32 md:w-36 md:h-36 rounded-full object-cover mb-4 shadow-lg border-4 border-white" 
      src="{{ profile.avatar|default:'https://via.placeholder.com/144/E5E7EB/9CA3AF?text=No+Avatar' }}" 
      alt="{{ profile.name }}'s avatar" 
    />
    <div class="text-center">
        <h1 class="text-3xl md:text-4xl font-bold text-gray-800">{{ profile.name }}</h1>
        <div class="text-gray-500 mb-2 text-lg -mt-1">@{{ profile.user.username }}</div>
        {% if profile.info %}
        <div class="mt-4 text-gray-600 max-w-lg hyphens-auto">{{ profile.info|linebreaksbr }}</div>
        {% endif %} Â 
    </div>

    <hr class="w-full my-10 md:my-12 border-gray-200" />

    <div class="w-full">
        <h2 class="text-2xl font-bold text-gray-800 mb-6">
          Videos by {{ profile.user.username }}
        </h2>
        
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
            
            {% for video in videos %}
            <a href="{% url 'viddetail' video.id %}" class="group bg-white shadow-md rounded-xl overflow-hidden hover:shadow-xl transition-all duration-300 border border-gray-100">
                
                <div class="relative aspect-video bg-gray-200">
                    <img 
                      src="{% if video.thumbnail %}{{ video.thumbnail.url }}{% else %}https://via.placeholder.com/320x180/E5E7EB/4B5563?text=Thumbnail{% endif %}" 
                      alt="{{ video.title }} thumbnail" 
                      class="w-full h-full object-cover transition-transform duration-300 group-hover:scale-105">
                </div>
                
                <div class="p-4">
                    <h3 class="text-lg font-semibold text-gray-800 group-hover:text-blue-600 transition-colors duration-300 truncate">
                        {{ video.title }}
                    </h3>
                    <p class="text-sm text-gray-500 mt-1">
                        Uploaded: {{ video.created_at|date:"M d, Y" }}
                    </p>
                </div>
            </a>
            {% endfor %}
        </div>

        {% if not videos %}
            <div class="text-center text-gray-500 py-12">
                <svg class="mx-auto h-12 w-12 text-gray-400" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 10.5l4.72-4.72a.75.75 0 011.28.53v11.38a.75.75 0 01-1.28.53l-4.72-4.72M4.5 18.75h9a2.25 2.25 0 002.25-2.25v-9a2.25 2.25 0 00-2.25-2.25h-9A2.25 2.25 0 002.25 7.5v9a2.25 2.25 0 002.25 2.25z" />
                </svg>
                <h3 class="mt-2 text-lg font-semibold text-gray-800">No Videos Yet</h3>
                <p class="mt-1 text-sm text-gray-500">{{ profile.user.username }} hasn't uploaded any videos.</p>
            </div>
        {% endif %}
    </div>
  </div>

</body>
{% endblock %}